{"ast":null,"code":"var _jsxFileName = \"E:\\\\S IT Solutions\\\\insuerence_17_12_2024\\\\insurance_27_12_2024\\\\insurance_EMAIL_SIT\\\\fronend\\\\src\\\\pages\\\\Appointment\\\\EditAppointment.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Typography, Box } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditAppointment() {\n  _s();\n  const {\n    id\n  } = useParams(); // Get appointment ID from URL\n  const navigate = useNavigate();\n  const [appointment, setAppointment] = useState({\n    time: \"\",\n    treatment: \"\",\n    message: \"\"\n  });\n\n  // Fetch existing appointment details\n  useEffect(() => {\n    const fetchAppointment = async () => {\n      try {\n        const response = await fetch(`http://localhost:8081/getAppointmentById/${id}`);\n        const data = await response.json();\n        setAppointment({\n          time: data.time,\n          treatment: data.treatment,\n          message: data.message || \"\"\n        });\n      } catch (error) {\n        console.error(\"Failed to fetch appointment details\", error);\n      }\n    };\n    fetchAppointment();\n  }, [id]);\n\n  // Handle form changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAppointment({\n      ...appointment,\n      [name]: value\n    });\n  };\n\n  // Submit updated details\n  const handleSubmit = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8081/editAppointment\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id,\n          ...appointment\n        })\n      });\n      if (response.ok) {\n        navigate(\"/appointments\"); // Navigate back to appointments list\n      } else {\n        alert(\"Failed to update appointment\");\n      }\n    } catch (error) {\n      console.error(\"Failed to update appointment\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: 500,\n      margin: \"auto\",\n      mt: 5\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Edit Appointment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Time\",\n      type: \"datetime-local\",\n      name: \"time\",\n      value: appointment.time,\n      onChange: handleChange,\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Treatment\",\n      name: \"treatment\",\n      value: appointment.treatment,\n      onChange: handleChange,\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Message\",\n      name: \"message\",\n      value: appointment.message,\n      onChange: handleChange,\n      multiline: true,\n      rows: 3,\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleSubmit,\n      children: \"Save Changes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(EditAppointment, \"TqR7r8la+VvxcQavwQIs7/GsGC4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditAppointment;\nexport default EditAppointment;\nvar _c;\n$RefreshReg$(_c, \"EditAppointment\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","TextField","Button","Typography","Box","jsxDEV","_jsxDEV","EditAppointment","_s","id","navigate","appointment","setAppointment","time","treatment","message","fetchAppointment","response","fetch","data","json","error","console","handleChange","e","name","value","target","handleSubmit","method","headers","body","JSON","stringify","ok","alert","sx","maxWidth","margin","mt","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","label","type","onChange","fullWidth","multiline","rows","color","onClick","_c","$RefreshReg$"],"sources":["E:/S IT Solutions/insuerence_17_12_2024/insurance_27_12_2024/insurance_EMAIL_SIT/fronend/src/pages/Appointment/EditAppointment.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { TextField, Button, Typography, Box } from \"@mui/material\";\r\n\r\nfunction EditAppointment() {\r\n  const { id } = useParams(); // Get appointment ID from URL\r\n  const navigate = useNavigate();\r\n  const [appointment, setAppointment] = useState({\r\n    time: \"\",\r\n    treatment: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  // Fetch existing appointment details\r\n  useEffect(() => {\r\n    const fetchAppointment = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:8081/getAppointmentById/${id}`\r\n        );\r\n        const data = await response.json();\r\n        setAppointment({\r\n          time: data.time,\r\n          treatment: data.treatment,\r\n          message: data.message || \"\",\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch appointment details\", error);\r\n      }\r\n    };\r\n\r\n    fetchAppointment();\r\n  }, [id]);\r\n\r\n  // Handle form changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAppointment({ ...appointment, [name]: value });\r\n  };\r\n\r\n  // Submit updated details\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:8081/editAppointment\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id, ...appointment }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        navigate(\"/appointments\"); // Navigate back to appointments list\r\n      } else {\r\n        alert(\"Failed to update appointment\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to update appointment\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 500, margin: \"auto\", mt: 5 }}>\r\n      <Typography variant=\"h5\">Edit Appointment</Typography>\r\n      <TextField\r\n        label=\"Time\"\r\n        type=\"datetime-local\"\r\n        name=\"time\"\r\n        value={appointment.time}\r\n        onChange={handleChange}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <TextField\r\n        label=\"Treatment\"\r\n        name=\"treatment\"\r\n        value={appointment.treatment}\r\n        onChange={handleChange}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <TextField\r\n        label=\"Message\"\r\n        name=\"message\"\r\n        value={appointment.message}\r\n        onChange={handleChange}\r\n        multiline\r\n        rows={3}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n        Save Changes\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default EditAppointment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}